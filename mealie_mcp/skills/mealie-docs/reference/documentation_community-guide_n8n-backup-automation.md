[ Skip to content ](https://docs.mealie.io/documentation/community-guide/n8n-backup-automation/#automating-backups-with-n8n)
[ Looking for a hosted solution? Explore Recipinned from the creator of Mealie ](https://recipinned.com)
[ ](https://docs.mealie.io/ "Mealie")
Mealie
Automating Backups with n8n
Type to start searching
[ mealie-recipes/mealie
  * v3.11.0
  * 11.5k
  * 1.1k

](https://github.com/mealie-recipes/mealie/ "Go to repository")
  * [ Home ](https://docs.mealie.io/)
  * [ Getting Started ](https://docs.mealie.io/documentation/getting-started/introduction/)
  * [ API Reference ](https://demo.mealie.io/docs)
  * [ Contributors Guide ](https://docs.mealie.io/contributors/non-coders/)
  * [ News ](https://docs.mealie.io/news/surveys/2024-october/overview/)


[ ](https://docs.mealie.io/ "Mealie") Mealie
[ mealie-recipes/mealie
  * v3.11.0
  * 11.5k
  * 1.1k

](https://github.com/mealie-recipes/mealie/ "Go to repository")
  * [ Home  ](https://docs.mealie.io/)
  * Getting Started
    * [ Introduction  ](https://docs.mealie.io/documentation/getting-started/introduction/)
    * [ Features  ](https://docs.mealie.io/documentation/getting-started/features/)
    * [ Updating  ](https://docs.mealie.io/documentation/getting-started/updating/)
    * [ Version 1 Migration  ](https://docs.mealie.io/documentation/getting-started/migrating-to-mealie-v1/)
    * [ FAQ  ](https://docs.mealie.io/documentation/getting-started/faq/)
    * [ API  ](https://docs.mealie.io/documentation/getting-started/api-usage/)
    * [ Road Map  ](https://docs.mealie.io/documentation/getting-started/roadmap/)
    * Installation
      * [ Installation Checklist  ](https://docs.mealie.io/documentation/getting-started/installation/installation-checklist/)
      * [ SQLite (Recommended)  ](https://docs.mealie.io/documentation/getting-started/installation/sqlite/)
      * [ PostgreSQL  ](https://docs.mealie.io/documentation/getting-started/installation/postgres/)
      * [ Backend Configuration  ](https://docs.mealie.io/documentation/getting-started/installation/backend-config/)
      * [ Security  ](https://docs.mealie.io/documentation/getting-started/installation/security/)
      * [ Logs  ](https://docs.mealie.io/documentation/getting-started/installation/logs/)
      * [ OpenAI  ](https://docs.mealie.io/documentation/getting-started/installation/open-ai/)
    * Usage
      * [ Backup and Restoring  ](https://docs.mealie.io/documentation/getting-started/usage/backups-and-restoring/)
      * [ Permissions and Public Access  ](https://docs.mealie.io/documentation/getting-started/usage/permissions-and-public-access/)
    * Authentication
      * [ LDAP  ](https://docs.mealie.io/documentation/getting-started/authentication/ldap/)
      * [ OpenID Connect  ](https://docs.mealie.io/documentation/getting-started/authentication/oidc-v2/)
    * Community Guides
      * [ Bring API without internet exposure  ](https://docs.mealie.io/documentation/community-guide/bring-api/)
      * Automating Backups with n8n  [ Automating Backups with n8n  ](https://docs.mealie.io/documentation/community-guide/n8n-backup-automation/)
        * [ Setup  ](https://docs.mealie.io/documentation/community-guide/n8n-backup-automation/#setup)
          * [ Deploying n8n  ](https://docs.mealie.io/documentation/community-guide/n8n-backup-automation/#deploying-n8n)
          * [ Importing n8n workflow  ](https://docs.mealie.io/documentation/community-guide/n8n-backup-automation/#importing-n8n-workflow)
          * [ API Credentials  ](https://docs.mealie.io/documentation/community-guide/n8n-backup-automation/#api-credentials)
            * [ Generate Mealie API Token  ](https://docs.mealie.io/documentation/community-guide/n8n-backup-automation/#generate-mealie-api-token)
            * [ Setup Credentials in n8n  ](https://docs.mealie.io/documentation/community-guide/n8n-backup-automation/#setup-credentials-in-n8n)
          * [ Notification Node  ](https://docs.mealie.io/documentation/community-guide/n8n-backup-automation/#notification-node)
      * [ Bulk Url Import  ](https://docs.mealie.io/documentation/community-guide/bulk-url-import/)
      * [ Home Assistant  ](https://docs.mealie.io/documentation/community-guide/home-assistant/)
      * [ Import Bookmarklet  ](https://docs.mealie.io/documentation/community-guide/import-recipe-bookmarklet/)
      * [ iOS Shortcut  ](https://docs.mealie.io/documentation/community-guide/ios-shortcut/)
      * [ Reverse Proxy (SWAG)  ](https://docs.mealie.io/documentation/community-guide/swag/)
  * [ API Reference  ](https://demo.mealie.io/docs)
  * Contributors Guide
    * [ Non-Code  ](https://docs.mealie.io/contributors/non-coders/)
    * [ Translating  ](https://docs.mealie.io/contributors/translating/)
    * Developers Guide
      * [ Building Packages  ](https://docs.mealie.io/contributors/developers-guide/building-packages/)
      * [ Code Contributions  ](https://docs.mealie.io/contributors/developers-guide/code-contributions/)
      * [ Dev Getting Started  ](https://docs.mealie.io/contributors/developers-guide/starting-dev-server/)
      * [ Database Changes  ](https://docs.mealie.io/contributors/developers-guide/database-changes/)
      * [ Maintainers Guide  ](https://docs.mealie.io/contributors/developers-guide/maintainers/)
      * [ Migration Guide  ](https://docs.mealie.io/contributors/developers-guide/migration-guide/)
    * Guides
      * [ Improving Ingredient Parser  ](https://docs.mealie.io/contributors/guides/ingredient-parser/)
  * News
    * Surveys
      * [ October 2024  ](https://docs.mealie.io/news/surveys/2024-october/overview/)


  * [ Setup  ](https://docs.mealie.io/documentation/community-guide/n8n-backup-automation/#setup)
    * [ Deploying n8n  ](https://docs.mealie.io/documentation/community-guide/n8n-backup-automation/#deploying-n8n)
    * [ Importing n8n workflow  ](https://docs.mealie.io/documentation/community-guide/n8n-backup-automation/#importing-n8n-workflow)
    * [ API Credentials  ](https://docs.mealie.io/documentation/community-guide/n8n-backup-automation/#api-credentials)
      * [ Generate Mealie API Token  ](https://docs.mealie.io/documentation/community-guide/n8n-backup-automation/#generate-mealie-api-token)
      * [ Setup Credentials in n8n  ](https://docs.mealie.io/documentation/community-guide/n8n-backup-automation/#setup-credentials-in-n8n)
    * [ Notification Node  ](https://docs.mealie.io/documentation/community-guide/n8n-backup-automation/#notification-node)


# Automating Backups with n8n
Info
This guide was submitted by a community member. Find something wrong? Submit a PR to get it fixed!
[n8n](https://github.com/n8n-io/n8n) is a free and source-available fair-code licensed workflow automation tool. It's an alternative to tools like Zapier or Make, allowing you to use a UI to create automated workflows.
This example workflow:
  1. Creates a Mealie backup every morning via an API call
  2. Keeps the last 7 backups, deleting older ones


Important
This only automates the backup function, this does not backup your data to anywhere except your local instance. Please make sure you are backing up your data to an external source.
![screenshot](https://docs.mealie.io/assets/img/n8n/n8n-mealie-backup.png)
## Setup
### Deploying n8n
Follow the relevant guide in the [n8n Documentation](https://docs.n8n.io/)
### Importing n8n workflow
  1. In n8n, add a new workflow
  2. In the top right hit the 3 dot menu and select 'Import from URL...'
![screenshot](https://docs.mealie.io/assets/img/n8n/n8n-workflow-import.png)
  3. Paste `https://github.com/mealie-recipes/mealie/blob/mealie-next/docs/docs/assets/other/n8n/n8n-mealie-backup.json` and click 'Import'
  4. Click through the nodes and update the URLs for your environment


### API Credentials
#### Generate Mealie API Token
  1. Head to `<YOUR MEALIE INSTANCE>/user/profile/api-tokens`
Tip
If you dont see this screen make sure that "Show advanced features" is checked under `<YOUR MEALIE INSTANCE>/user/profile/edit`
  2. Under token name, enter the name of the token (for example, 'n8n') and hit 'Generate'
  3. Copy and keep this API Token somewhere safe, this is like your password!


Tip
You can use your normal user for this, but assuming you're an admin you could also choose to create a user named n8n and generate the API key against that user.
#### Setup Credentials in n8n
See also [n8n Docs](https://docs.n8n.io/credentials/add-edit-credentials/).
  1. Create a new "Header Auth" Credential
![screenshot](https://docs.mealie.io/assets/img/n8n/n8n-cred-app.png)
  2. In the connection screen set - Name as `Authorization` - Value as `Bearer {INSERT MEALIE API KEY}`
![screenshot](https://docs.mealie.io/assets/img/n8n/n8n-cred-connection.png)
  3. In the workflow you created, for the "Run Backup", "Get All backups", and "Delete Oldies" nodes, update:
     * Authentication to `Generic Credential Type`
     * Generic Auth Type to `Header Auth`
     * Header Auth to `Mealie API` or whatever you named your credentials
![screenshot](https://docs.mealie.io/assets/img/n8n/n8n-workflow-auth.png)


### Notification Node
Important
Please use error notifications of some kind. It's very easy to set and forget an automation, then have the worst happen and lose data.
[ntfy](https://github.com/binwiederhier/ntfy) is a great open source, self-hostable tool for sending notifications.
If you want to use ntfy, you will need to install it on your environment, or sign up for their service, and configure it with the webhook URL.
If you want to use another notification service, you can create a new node in n8n that sends the notification using whatever method you like.
  * For example, if you want to send a push notification via [Pushover](https://docs.mealie.io/pushover.net/) you could create a new node that uses the Pushover API and sends the notification.
  * You can use the [Send Email](https://docs.n8n.io/integrations/builtincore-nodes/n8n-nodes-base.sendemail/) node in n8n as an example of how to create your own custom node.
  * You can send it off to InfluxDB, Slack, Discord etc. Go nuts.


If you're using another method for backups we'd love to hear about it. Pop in [Discord](https://discord.gg/QuStdQGSGK) and say hi!
Made with [ Material for MkDocs ](https://squidfunk.github.io/mkdocs-material/)
